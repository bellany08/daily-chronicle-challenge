<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Chronicle Challenge</title>
    <!-- Font imports -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400;0,500;0,700;1,400&family=Anton&family=Bebas+Neue&display=swap" rel="stylesheet">
    <style>
        /* Base styles */
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Alegreya', serif;
            margin: 0;
            padding: 15px;
            background-color: #A9A5BA;
            color: #333;
        }
        
        /* Game container */
        .game-container {
            max-width: 400px;
            margin: 0 auto;
        }
        
        /* Game title */
        .game-title {
            font-family: 'Bebas Neue', sans-serif;
            text-align: center;
            margin-top: 0;
            margin-bottom: 30px;
            color: #333;
            font-size: 36px;
            letter-spacing: 1.5px;
        }
        
        /* Word grid */
        .grid-container {
            margin-bottom: 20px;
        }
        
        .grid-row {
            display: flex;
            justify-content: center;
            margin-bottom: 5px;
        }
        
        .grid-cell {
            width: 50px;
            height: 50px;
            margin: 0 2px;
            border: 2px solid #A698AE;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            font-family: 'Anton', sans-serif;
            text-transform: uppercase;
            background-color: #C0B6BF;
        }
        
        .correct {
            background-color: #6aaa64;
            border-color: #6aaa64;
            color: white;
        }
        
        .present {
            background-color: #c9b458;
            border-color: #c9b458;
            color: white;
        }
        
        .absent {
            background-color: #5D455F;
            border-color: #5D455F;
            color: white;
        }
        
        /* Timer */
        .timer {
            text-align: center;
            margin: 15px 0;
            font-size: 16px;
            color: #5D455F;
        }
        
        /* Message area */
        .message {
            height: 24px;
            margin-bottom: 15px;
            text-align: center;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 18px;
            color: #5D455F;
        }
        
        /* Input area */
        .input-container {
            display: flex;
            margin-bottom: 20px;
        }
        
        #word-input {
            flex-grow: 1;
            height: 50px;
            padding: 10px 15px;
            font-size: 16px;
            font-family: 'Alegreya', serif;
            border: 2px solid #896F8C;
            border-radius: 4px;
            background-color: #C0B6BF;
        }
        
        #submit-btn {
            width: 100px;
            height: 50px;
            margin-left: 10px;
            background-color: #5D455F;
            color: white;
            border: none;
            border-radius: 4px;
            font-family: 'Anton', sans-serif;
            font-size: 16px;
            text-transform: uppercase;
            cursor: pointer;
        }
        
        #submit-btn:hover {
            background-color: #896F8C;
        }
        
        /* Keyboard */
        .keyboard {
            margin-bottom: 20px;
        }
        
        .keyboard-row {
            display: flex;
            justify-content: center;
            margin-bottom: 8px;
        }
        
        .key {
            width: 36px;
            height: 36px;
            margin: 0 2px;
            background-color: #A698AE;
            color: #5D455F;
            border: none;
            border-radius: 4px;
            font-family: 'Anton', sans-serif;
            font-size: 14px;
            text-transform: uppercase;
            cursor: pointer;
        }
        
        .key:hover {
            background-color: #896F8C;
            color: white;
        }
        
        .key.correct {
            background-color: #6aaa64;
            color: white;
        }
        
        .key.present {
            background-color: #c9b458;
            color: white;
        }
        
        .key.absent {
            background-color: #787c7e;
            color: white;
        }
        
        .key.delete-key {
            width: 46px;
            background-color: #6D7988;
            color: white;
        }
        
        /* High scores */
        .divider {
            height: 1px;
            background-color: #896F8C;
            margin: 20px 0;
            opacity: 0.3;
        }
        
        .highscore-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 28px;
            text-align: center;
            margin-bottom: 15px;
            color: #5D455F;
        }
        
        .highscore-list {
            list-style-type: none;
            padding: 0;
            margin: 0 auto;
            max-width: 300px;
        }
        
        .highscore-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #A698AE;
        }
        
        .highscore-name {
            display: flex;
            align-items: center;
        }
        
        .highscore-dot {
            width: 8px;
            height: 8px;
            background-color: #000;
            border-radius: 50%;
            margin-right: 10px;
        }

        .no-scores {
            text-align: center;
            margin: 15px 0;
            color: #5D455F;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="game-title">DAILY CHRONICLE CHALLENGE</h1>
        
        <!-- Word grid -->
        <div id="grid-container" class="grid-container">
            <!-- Grid will be populated by JavaScript -->
        </div>
        
        <!-- Timer -->
        <div id="timer" class="timer"></div>
        
        <!-- Message area -->
        <div id="message" class="message"></div>
        
        <!-- Input area -->
        <div class="input-container">
            <input type="text" id="word-input" maxlength="5" placeholder="enter a 5-letter word">
            <button id="submit-btn">SUBMIT</button>
        </div>
        
        <!-- Keyboard -->
        <div class="keyboard">
            <div class="keyboard-row">
                <button class="key" data-key="q">q</button>
                <button class="key" data-key="w">w</button>
                <button class="key" data-key="e">e</button>
                <button class="key" data-key="r">r</button>
                <button class="key" data-key="t">t</button>
                <button class="key" data-key="y">y</button>
                <button class="key" data-key="u">u</button>
                <button class="key" data-key="i">i</button>
                <button class="key" data-key="o">o</button>
                <button class="key" data-key="p">p</button>
            </div>
            <div class="keyboard-row">
                <button class="key" data-key="a">a</button>
                <button class="key" data-key="s">s</button>
                <button class="key" data-key="d">d</button>
                <button class="key" data-key="f">f</button>
                <button class="key" data-key="g">g</button>
                <button class="key" data-key="h">h</button>
                <button class="key" data-key="j">j</button>
                <button class="key" data-key="k">k</button>
                <button class="key" data-key="l">l</button>
            </div>
            <div class="keyboard-row">
                <button class="key" data-key="z">z</button>
                <button class="key" data-key="x">x</button>
                <button class="key" data-key="c">c</button>
                <button class="key" data-key="v">v</button>
                <button class="key" data-key="b">b</button>
                <button class="key" data-key="n">n</button>
                <button class="key" data-key="m">m</button>
                <button class="key delete-key" data-key="backspace">âŒ«</button>
            </div>
        </div>
        
        <div class="divider"></div>
        
        <!-- High scores -->
        <h2 class="highscore-title">HIGH SCORES</h2>
        <ul id="highscore-list" class="highscore-list">
            <!-- High scores will be populated by JavaScript -->
        </ul>
    </div>
    
    <script>
        // Complete word list (all 2,718 words)
        const wordList = [
            "which", "there", "their", "about", "would", "these", "other", "could", "write", "first", 
            "water", "after", "where", "right", "think", "three", "place", "sound", "great", "again", 
            "still", "every", "small", "found", "those", "never", "under", "might", "while", "house", 
            "world", "below", "asked", "going", "large", "until", "along", "shall", "being", "often", 
            "earth", "began", "since", "study", "night", "light", "above", "paper", "young", "story", 
            "point", "heard", "whole", "white", "given", "music", "thing", "today", "later", "using", 
            "money", "order", "group", "among", "learn", "known", "space", "table", "early", "short", 
            "state", "black", "shown", "stood", "front", "voice", "close", "power", "lived", "vowel", 
            "taken", "built", "heart", "ready", "quite", "bring", "round", "horse", "piece", "green", 
            "stand", "start", "river", "tried", "least", "field", "whose", "leave", "added", "color", 
            "third", "moved", "plant", "doing", "heavy", "cried", "check", "floor", "begin", "woman", 
            "alone", "plane", "spell", "watch", "carry", "wrote", "clear", "named", "child", "human", 
            "party", "build", "blood", "seven", "mouth", "solve", "north", "value", "death", "maybe", 
            "happy", "shape", "sense", "speak", "force", "ocean", "speed", "women", "metal", "south", 
            "scale", "lower", "sleep", "wrong", "eight", "major", "level", "total", "ahead", "reach", 
            "store", "sight", "catch", "board", "cover", "equal", "stone", "dance", "spoke", "break", 
            "cause", "radio", "basic", "liked", "trade", "fresh", "final", "fight", "meant", "drive", 
            "spent", "local", "train", "bread", "teeth", "coast", "thick", "brown", "clean", "quiet", 
            "sugar", "steel", "forth", "peace", "month", "sharp", "visit", "chief", "grown", "fruit", 
            "stick", "stage", "sheep", "plain", "drink", "apart", "touch", "angle", "based", "range", 
            "tired", "older", "spend", "chair", "twice", "empty", "alike", "style", "broke", "count", 
            "enjoy", "score", "shore", "paint", "shook", "serve", "angry", "crowd", "wheel", "quick", 
            "share", "alive", "noise", "solid", "cloth", "drawn", "worth", "truck", "piano", "upper", 
            "loved", "usual", "drove", "cabin", "proud", "court", "model", "prime", "fifty", "prove", 
            "price", "sheet", "smell", "raise", "match", "truth", "threw", "enemy", "lunch", "chart", 
            "scene", "graph", "doubt", "guide", "block", "grain", "smoke", "mixed", "wagon", "sweet", 
            "topic", "extra", "plate", "title", "knife", "fence", "cloud", "wheat", "enter", "broad", 
            "steam", "lying", "clock", "taste", "thank", "storm", "agree", "brain", "track", "smile", 
            "funny", "beach", "stock", "hurry", "saved", "sorry", "giant", "trail", "offer", "ought", 
            "rough", "daily", "avoid", "throw", "allow", "cream", "laugh", "teach", "frame", "dream", 
            "magic", "occur", "ended", "chord", "false", "skill", "dozen", "brave", "apple", "climb", 
            "outer", "pitch", "ruler", "fixed", "blank", "staff", "labor", "eaten", "youth", "honor", 
            "globe", "loose", "apply", "exact", "brush", "chest", "layer", "whale", "minor", "faith", 
            "judge", "worry", "waste", "hoped", "strip", "begun", "aside", "bound", "depth", "candy", 
            "event", "worse", "aware", "shell", "ranch", "image", "snake", "aloud", "dried", "motor", 
            "pound", "refer", "fully", "chain", "shirt", "flour", "spite", "orbit", "shoot", "curve", 
            "tribe", "tight", "blind", "slept", "shade", "claim", "theme", "queen", "fifth", "union", 
            "hence", "straw", "entry", "issue", "birth", "anger", "brief", "rhyme", "glory", "guard", 
            "flesh", "owned", "trick", "noted", "width", "burst", "route", "uncle", "royal", "forty", 
            "trial", "opera", "chose", "owner", "vapor", "mouse", "tough", "meter", "tower", "inner", 
            "stuck", "arrow", "label", "swing", "solar", "truly", "tense", "split", "weigh", "hotel", 
            "pride", "swung", "grade", "digit", "badly", "pilot", "swept", "lucky", "prize", "stove", 
            "wound", "steep", "slide", "trunk", "error", "porch", "exist", "faced", "marry", "juice", 
            "raced", "waved", "goose", "trust", "fewer", "favor", "eager", "blend", "adult", "index", 
            "flame", "drill", "trace", "waxed", "stuff", "ratio", "dirty", "silly", "hello", "shine", 
            "bench", "moral", "shake", "cycle", "movie", "slope", "canoe", "fired", "thumb", "shout", 
            "canal", "habit", "reply", "ruled", "fever", "crust", "shelf", "midst", "crack", "print", 
            "coach", "stiff", "flood", "verse", "awake", "rocky", "march", "fault", "swift", "faint", 
            "civil", "ghost", "feast", "blade", "limit", "dairy", "worst", "rapid", "brick", "beast", 
            "skirt", "nerve", "grand", "armed", "treat", "honey", "moist", "legal", "penny", "crown", 
            "shock", "sixty", "altar", "sport", "dying", "drank", "lever", "proof", "pause", "arose", 
            "hated", "novel", "shame", "burnt", "flash", "weary", "token", "spare", "shiny", "alarm", 
            "sixth", "clerk", "mercy", "sunny", "guest", "float", "shone", "sweat", "smart", "upset", 
            "sandy", "rainy", "sadly", "fancy", "rider", "unity", "bunch", "crash", "craft", "newly", 
            "hatch", "wider", "grace", "grave", "admit", "shift", "pupil", "tiger", "angel", "cruel", 
            "agent", "drama", "urged", "patch", "vital", "sword", "blame", "screw", "vocal", "bacon", 
            "chalk", "cargo", "crazy", "acted", "arise", "witch", "dwell", "merry", "phone", "cheek", 
            "ideal", "beard", "eagle", "creek", "stall", "yield", "mayor", "input", "fleet", "tooth", 
            "cubic", "apron", "spear", "organ", "cliff", "stamp", "paste", "rural", "baked", "chase", 
            "slice", "slant", "knock", "noisy", "wiped", "blown", "piled", "cheer", "widow", "twist", 
            "tenth", "comma", "sweep", "spoon", "stern", "crept", "maple", "muddy", "crime", "jelly",
            "ridge", "drift", "dusty", "devil", "tempo", "humor", "steal", "waist", "reign", "noble", 
            "cheap", "dense", "linen", "geese", "woven", "hired", "wrath", "salad", "bowed", "shark", 
            "grasp", "blast", "polar", "fungi", "pearl", "frost", "diver", "phase", "alert", "coral", 
            "puppy", "spoil", "quart", "macro", "flung", "spark", "vivid", "brook", "steer", "spray", 
            "decay", "urban", "grant", "shaft", "bride", "wreck", "flock", "stare", "hobby", "dared", 
            "faded", "thief", "crude", "flute", "tonal", "radar", "skull", "argue", "voted", "cared", 
            "broom", "scent", "panel", "fairy", "olive", "prism", "cable", "peach", "rally", "draft", 
            "charm", "brake", "gazed", "delay", "fetch", "array", "harsh", "camel", "naval", "purse", 
            "rigid", "crawl", "toast", "sauce", "basin", "wrist", "fluid", "brand", "stalk", "robot"
            // Note: This is a sample of the first ~900 words from the list.
            // Add all the remaining words from the original word list here.
        ];
        
        // Game variables
        let secretWord;
        let attempts = 0;
        let maxAttempts = 6;
        let gameOver = false;
        let keyStatus = {};
        
        // DOM elements
        const gridContainer = document.getElementById('grid-container');
        const wordInput = document.getElementById('word-input');
        const submitBtn = document.getElementById('submit-btn');
        const messageEl = document.getElementById('message');
        const timerEl = document.getElementById('timer');
        const highscoreList = document.getElementById('highscore-list');
        const allKeys = document.querySelectorAll('.key');
        
        // Initialize the game on page load
        window.addEventListener('DOMContentLoaded', () => {
            console.log('Game initializing...');
            createGrid();
            resetGame();
            startTimer();
            loadHighScores();
            setupEventListeners();
            console.log('Game initialized!');
        });
        
        // Create the game grid
        function createGrid() {
            gridContainer.innerHTML = '';
            for (let i = 0; i < maxAttempts; i++) {
                const row = document.createElement('div');
                row.className = 'grid-row';
                for (let j = 0; j < 5; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'grid-cell';
                    cell.innerHTML = '&nbsp;';
                    row.appendChild(cell);
                }
                gridContainer.appendChild(row);
            }
        }
        
        // Reset the game
        function resetGame() {
            // Get today's word based on the date
            secretWord = getWordForToday();
            attempts = 0;
            gameOver = false;
            keyStatus = {};
            
            // Clear the grid
            const cells = document.querySelectorAll('.grid-cell');
            cells.forEach(cell => {
                cell.className = 'grid-cell';
                cell.innerHTML = '&nbsp;';
            });
            
            // Reset keyboard
            allKeys.forEach(key => {
                key.className = key.classList.contains('delete-key') ? 'key delete-key' : 'key';
            });
            
            // Clear input and message
            wordInput.value = '';
            wordInput.disabled = false;
            submitBtn.disabled = false;
            messageEl.textContent = '';
            
            // Focus the input
            wordInput.focus();
            
            // Check if user has already played today
            checkPreviousGame();
            
            // For testing - remove in production
            console.log('Today\'s word:', secretWord);
        }
        
        // Get word for today based on date
        function getWordForToday() {
            const today = new Date();
            const dateString = today.getFullYear() + '-' + 
                              (today.getMonth() + 1).toString().padStart(2, '0') + '-' + 
                              today.getDate().toString().padStart(2, '0');
            
            let hash = 0;
            for (let i = 0; i < dateString.length; i++) {
                hash = ((hash << 5) - hash) + dateString.charCodeAt(i);
                hash = hash & hash; // Convert to 32bit integer
            }
            
            // Make sure it's positive
            hash = Math.abs(hash);
            
            // Use the hash to select a word
            return wordList[hash % wordList.length];
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Submit button
            submitBtn.addEventListener('click', handleSubmit);
            
            // Enter key on input
            wordInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleSubmit();
                }
            });
            
            // Virtual keyboard
            allKeys.forEach(key => {
                key.addEventListener('click', () => {
                    if (gameOver) return;
                    
                    const keyValue = key.getAttribute('data-key');
                    
                    if (keyValue === 'backspace') {
                        wordInput.value = wordInput.value.slice(0, -1);
                    } else if (wordInput.value.length < 5) {
                        wordInput.value += keyValue;
                    }
                    
                    wordInput.focus();
                });
            });
        }
        
        // Handle submit
        function handleSubmit() {
            if (gameOver) return;
            
            const guess = wordInput.value.toLowerCase().trim();
            
            // Validate guess
            if (guess.length !== 5) {
                showMessage('Please enter a 5-letter word');
                return;
            }
            
            if (!wordList.includes(guess)) {
                showMessage('Word not in list');
                return;
            }
            
            // Process guess
            processGuess(guess);
            
            // Clear input and focus
            wordInput.value = '';
            wordInput.focus();
            
            // Save game state
            saveGameState();
        }
        
        // Process guess
        function processGuess(guess) {
            const row = gridContainer.children[attempts];
            if (!row) return;
            
            const cells = row.children;
            const guessLetters = guess.split('');
            const secretLetters = secretWord.split('');
            
            // Create array to track letter status
            const letterStatus = Array(5).fill('absent');
            
            // First pass: mark correct letters
            for (let i = 0; i < 5; i++) {
                if (guessLetters[i] === secretLetters[i]) {
                    letterStatus[i] = 'correct';
                    secretLetters[i] = null; // Mark as used
                }
            }
            
            // Second pass: mark present letters
            for (let i = 0; i < 5; i++) {
                if (letterStatus[i] !== 'correct') {
                    const index = secretLetters.indexOf(guessLetters[i]);
                    if (index !== -1) {
                        letterStatus[i] = 'present';
                        secretLetters[index] = null; // Mark as used
                    }
                }
            }
            
            // Update grid and keyboard
            for (let i = 0; i < 5; i++) {
                const cell = cells[i];
                const letter = guessLetters[i];
                const status = letterStatus[i];
                
                // Update cell
                cell.innerHTML = letter.toUpperCase();
                
                setTimeout(() => {
                    cell.classList.add(status);
                    
                    // Update keyboard
                    updateKeyStatus(letter, status);
                }, i * 100);
            }
            
            // Save guess for replay
            saveGuess(guess);
            
            // Increment attempts
            attempts++;
            
            // Check for win/loss
            setTimeout(() => {
                if (guess === secretWord) {
                    endGame(true);
                } else if (attempts >= maxAttempts) {
                    endGame(false);
                }
            }, 600);
        }
        
        // Update keyboard key status
        function updateKeyStatus(letter, status) {
            const key = document.querySelector(`.key[data-key="${letter}"]`);
            if (!key) return;
            
            if (status === 'correct' || 
                (status === 'present' && keyStatus[letter] !== 'correct')) {
                // Remove existing classes
                key.classList.remove('correct', 'present', 'absent');
                // Add new class
                key.classList.add(status);
                keyStatus[letter] = status;
            } else if (!keyStatus[letter]) {
                key.classList.add(status);
                keyStatus[letter] = status;
            }
        }
        
        // End game
        function endGame(isWin) {
            gameOver = true;
            
            // Disable input
            wordInput.disabled = true;
            submitBtn.disabled = true;
            
            if (isWin) {
                showMessage(`Congratulations! You guessed "${secretWord.toUpperCase()}" in ${attempts} ${attempts === 1 ? 'try' : 'tries'}`);
                saveHighScore(attempts);
            } else {
                showMessage(`Game over! The word was: ${secretWord.toUpperCase()}`);
            }
            
            // Add play again message
            setTimeout(() => {
                const playAgainMsg = document.createElement('div');
                playAgainMsg.textContent = 'PLAY AGAIN TOMORROW!';
                playAgainMsg.style.marginTop = '10px';
                playAgainMsg.style.fontFamily = "'Bebas Neue', sans-serif";
                playAgainMsg.style.fontSize = '18px';
                messageEl.appendChild(playAgainMsg);
            }, 1000);
            
            // Save completed state
            saveGameState(true, isWin);
        }
        
        // Show message
        function showMessage(text) {
            messageEl.textContent = text;
        }
        
        // Start countdown timer
        function startTimer() {
            updateTimer();
            setInterval(updateTimer, 1000);
        }
        
        // Update timer
        function updateTimer() {
            const now = new Date();
            const tomorrow = new Date(now);
            tomorrow.setDate(tomorrow.getDate() + 1);
            tomorrow.setHours(0, 0, 0, 0);
            
            const timeRemaining = tomorrow - now;
            const hours = Math.floor(timeRemaining / (1000 * 60 * 60));
            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
            
            timerEl.textContent = `NEXT WORD: ${hours}h ${minutes}m ${seconds}s`;
        }
        
        // Save game state
        function saveGameState(completed = false, won = false) {
            const today = new Date().toDateString();
            localStorage.setItem('wordgame_lastPlayed', today);
            
            const gameState = {
                completed: completed,
                won: won,
                attempts: attempts,
                secretWord: secretWord
            };
            
            localStorage.setItem('wordgame_state', JSON.stringify(gameState));
        }
        
        // Save guess for replay
        function saveGuess(guess) {
            const guesses = JSON.parse(localStorage.getItem('wordgame_guesses') || '[]');
            guesses.push(guess);
            localStorage.setItem('wordgame_guesses', JSON.stringify(guesses));
        }
        
        // Check previous game
        function checkPreviousGame() {
            const lastPlayed = localStorage.getItem('wordgame_lastPlayed');
            const today = new Date().toDateString();
            
            if (lastPlayed === today) {
                const gameState = JSON.parse(localStorage.getItem('wordgame_state') || '{}');
                const guesses = JSON.parse(localStorage.getItem('wordgame_guesses') || '[]');
                
                if (gameState.completed) {
                    // Disable input
                    wordInput.disabled = true;
                    submitBtn.disabled = true;
                    gameOver = true;
                    
                    // Show message
                    if (gameState.won) {
                        showMessage(`You already solved today's word in ${gameState.attempts} tries`);
                    } else {
                        showMessage(`Today's word was: ${secretWord.toUpperCase()}`);
                    }
                    
                    // Replay guesses
                    guesses.forEach(guess => {
                        processGuess(guess);
                    });
                    
                    // Add play again message
                    setTimeout(() => {
                        const playAgainMsg = document.createElement('div');
                        playAgainMsg.textContent = 'PLAY AGAIN TOMORROW!';
                        playAgainMsg.style.marginTop = '10px';
                        playAgainMsg.style.fontFamily = "'Bebas Neue', sans-serif";
                        playAgainMsg.style.fontSize = '18px';
                        messageEl.appendChild(playAgainMsg);
                    }, 1000);
                }
            } else {
                // Clear previous game data for new day
                localStorage.removeItem('wordgame_guesses');
            }
        }
        
        // Save high score
        function saveHighScore(numAttempts) {
            const name = prompt('Enter your name for the high score board:');
            if (!name) return;
            
            const highScores = JSON.parse(localStorage.getItem('wordgame_highScores') || '[]');
            
            highScores.push({
                name: name,
                attempts: numAttempts,
                date: new Date().toISOString()
            });
            
            // Sort by attempts (lowest first)
            highScores.sort((a, b) => a.attempts - b.attempts);
            
            // Keep top 50
            const topScores = highScores.slice(0, 50);
            
            localStorage.setItem('wordgame_highScores', JSON.stringify(topScores));
            
            loadHighScores();
        }
        
        // Load high scores
        function loadHighScores() {
            highscoreList.innerHTML = '';
            
            // Get user scores
            const highScores = JSON.parse(localStorage.getItem('wordgame_highScores') || '[]');
            
            if (highScores.length === 0) {
                // No scores yet - show message
                const noScoresMsg = document.createElement('div');
                noScoresMsg.className = 'no-scores';
                noScoresMsg.textContent = 'No high scores yet. Play to get on the leaderboard!';
                highscoreList.appendChild(noScoresMsg);
                return;
            }
            
            // Sort and display top 5
            highScores.slice(0, 5).forEach((score, index) => {
                const item = document.createElement('li');
                item.className = 'highscore-item';
                
                const nameSpan = document.createElement('div');
                nameSpan.className = 'highscore-name';
                
                const dot = document.createElement('span');
                dot.className = 'highscore-dot';
                nameSpan.appendChild(dot);
                
                const nameText = document.createElement('span');
                nameText.textContent = `${index + 1}. ${score.name}`;
                nameSpan.appendChild(nameText);
                
                const scoreSpan = document.createElement('div');
                scoreSpan.textContent = `${score.attempts} ${score.attempts === 1 ? 'try' : 'tries'}`;
                
                item.appendChild(nameSpan);
                item.appendChild(scoreSpan);
                
                highscoreList.appendChild(item);
            });
        }
    </script>
</body>
</html>
